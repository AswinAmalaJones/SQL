-- Step 1: Create table
CREATE TABLE student(
  regno NUMBER PRIMARY KEY,
  studname VARCHAR2(50),
  dept VARCHAR2(20)
);

-- Step 2: Insert sample data
INSERT INTO student VALUES(101, 'Ram', 'CSE');
INSERT INTO student VALUES(102, 'Kavi', 'CSE');
INSERT INTO student VALUES(103, 'Latha', 'ECE');

-- Step 3: Enable output
SET SERVEROUTPUT ON;

-- Step 4: PL/SQL Block for TOO_MANY_ROWS Exception
DECLARE
  v_name student.studname%TYPE;
BEGIN
  SELECT studname INTO v_name
  FROM student
  WHERE dept = 'CSE';   -- multiple rows irundha trigger aagum

  DBMS_OUTPUT.PUT_LINE('Student Name: ' || v_name);
EXCEPTION
  WHEN TOO_MANY_ROWS THEN
    DBMS_OUTPUT.PUT_LINE('Error: More than one record found!');
END;
/
