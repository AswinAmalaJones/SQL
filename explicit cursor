-- Step 1: Create table
CREATE TABLE student(
  regno NUMBER PRIMARY KEY,
  studname VARCHAR2(50),
  dept VARCHAR2(20)
);

-- Step 2: Insert sample data
INSERT INTO student VALUES(101, 'Ram', 'CSE');
INSERT INTO student VALUES(102, 'Kavi', 'IT');
INSERT INTO student VALUES(103, 'Latha', 'ECE');

-- Step 3: Cursor program
SET SERVEROUTPUT ON;

DECLARE
  CURSOR stu_cur IS
    SELECT regno, studname, dept FROM student;
  
  v_regno student.regno%TYPE;
  v_name  student.studname%TYPE;
  v_dept  student.dept%TYPE;
BEGIN
  OPEN stu_cur;                -- step 1: cursor open
  LOOP
    FETCH stu_cur INTO v_regno, v_name, v_dept;  -- step 2: fetch each row
    EXIT WHEN stu_cur%NOTFOUND;                 -- step 3: exit when no data
    DBMS_OUTPUT.PUT_LINE('Regno: '||v_regno||'  Name: '||v_name||'  Dept: '||v_dept);
  END LOOP;
  CLOSE stu_cur;               -- step 4: cursor close
END;
/
